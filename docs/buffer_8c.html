<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>iSensor-SPI-Buffer: buffer.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Analog-Devices-Logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">iSensor-SPI-Buffer
   &#160;<span id="projectnumber">1.14</span>
   </div>
   <div id="projectbrief">Firmware for the iSensor-SPI-Buffer board to enable full throughput buffered data capture on Analog Devices IMUs</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d9edf6c004b4a7ff14fe9ae7a92214ee.html">firmware</a></li><li class="navelem"><a class="el" href="dir_344ad9cf7012f4665e17c8bfb6616899.html">Core</a></li><li class="navelem"><a class="el" href="dir_6fab3234299e4772a3d79f4ae41b7a51.html">Src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">buffer.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>iSensor-SPI-Buffer buffer implementation  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="buffer_8h_source.html">buffer.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for buffer.c:</div>
<div class="dyncontent">
<div class="center"><img src="buffer_8c__incl.png" border="0" usemap="#abuffer_8c" alt=""/></div>
<map name="buffer_8c" id="buffer_8c">
<area shape="rect" title="iSensor&#45;SPI&#45;Buffer buffer implementation" alt="" coords="562,5,626,32"/>
<area shape="rect" href="buffer_8h.html" title="Header file for iSensor&#45;SPI&#45;Buffer buffer data structure module." alt="" coords="562,80,626,107"/>
<area shape="rect" href="main_8h.html" title="Header file for iSensor&#45;SPI&#45;Buffer main." alt="" coords="450,155,511,181"/>
<area shape="rect" href="registers_8h.html" title="Header file for iSensor&#45;SPI&#45;Buffer register interfacing module." alt="" coords="439,304,522,331"/>
<area shape="rect" title=" " alt="" coords="429,528,546,555"/>
<area shape="rect" href="timer_8h.html" title="Header file for iSensor&#45;SPI&#45;Buffer timer module." alt="" coords="5,453,68,480"/>
<area shape="rect" href="flash_8h.html" title="Header file for iSensor&#45;SPI&#45;Buffer flash memory interfacing functions." alt="" coords="343,379,403,405"/>
<area shape="rect" href="led_8h.html" title="Header file for iSensor&#45;SPI&#45;Buffer LED control module." alt="" coords="533,453,583,480"/>
<area shape="rect" href="dfu_8h.html" title="Header file for iSensor&#45;SPI&#45;Buffer runtime firmware upgrade module." alt="" coords="241,379,291,405"/>
<area shape="rect" href="user__interrupt_8h.html" title="Header file for iSensor&#45;SPI&#45;Buffer user interrupt (data ready) config and generation functions." alt="" coords="425,229,537,256"/>
<area shape="rect" href="watchdog_8h.html" title="Header file for iSensor&#45;SPI&#45;Buffer watchdog timer module." alt="" coords="187,229,275,256"/>
<area shape="rect" href="dio_8h.html" title="Header file for iSensor&#45;SPI&#45;Buffer DIO interfacing module." alt="" coords="758,229,809,256"/>
<area shape="rect" title=" " alt="" coords="561,229,659,256"/>
<area shape="rect" href="adc_8h.html" title="Header file for iSensor&#45;SPI&#45;Buffer ADC module (for temp sensor and Vdd monitoring)" alt="" coords="833,229,888,256"/>
<area shape="rect" href="imu__spi_8h.html" title="Implementation for iSensor&#45;SPI&#45;Buffer IMU interfacing module." alt="" coords="87,379,165,405"/>
<area shape="rect" href="data__capture_8h.html" title="Header file for iSensor&#45;SPI&#45;Buffer autonomous IMU data acquisition module." alt="" coords="427,379,535,405"/>
<area shape="rect" href="user__spi_8h.html" title="Header file for iSensor&#45;SPI&#45;Buffer user SPI (slave SPI) module." alt="" coords="610,379,693,405"/>
<area shape="rect" title=" " alt="" coords="333,453,399,480"/>
<area shape="rect" title=" " alt="" coords="194,453,301,480"/>
<area shape="rect" title=" " alt="" coords="683,304,745,331"/>
<area shape="rect" href="stm32f3xx__hal__conf_8h.html" title="HAL configuration file." alt="" coords="1728,304,1876,331"/>
<area shape="rect" title=" " alt="" coords="1391,379,1533,405"/>
<area shape="rect" title=" " alt="" coords="1557,379,1705,405"/>
<area shape="rect" title=" " alt="" coords="1729,379,1875,405"/>
<area shape="rect" title=" " alt="" coords="1899,379,2049,405"/>
<area shape="rect" title=" " alt="" coords="2073,379,2233,405"/>
<area shape="rect" title=" " alt="" coords="2257,379,2403,405"/>
<area shape="rect" title=" " alt="" coords="2427,379,2577,405"/>
<area shape="rect" title=" " alt="" coords="2602,379,2743,405"/>
<area shape="rect" title=" " alt="" coords="2768,379,2913,405"/>
<area shape="rect" title=" " alt="" coords="890,379,1034,405"/>
<area shape="rect" title=" " alt="" coords="1058,379,1199,405"/>
<area shape="rect" title=" " alt="" coords="1224,379,1367,405"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5c39068d8675a7a4aa760e74221903d5"><td class="memItemLeft" align="right" valign="top">static uint8_t buf[<a class="el" href="buffer_8h.html#a6821bafc3c88dfb2e433a095df9940c6">BUF_SIZE</a>]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#a5c39068d8675a7a4aa760e74221903d5">__attribute__</a> ((aligned(32)))</td></tr>
<tr class="separator:a5c39068d8675a7a4aa760e74221903d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ac2b05756e76dc8a8de8d82a66721d2"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#a4ac2b05756e76dc8a8de8d82a66721d2">BufCanAddElement</a> ()</td></tr>
<tr class="memdesc:a4ac2b05756e76dc8a8de8d82a66721d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if an element can be added to the buffer.  <a href="buffer_8c.html#a4ac2b05756e76dc8a8de8d82a66721d2">More...</a><br /></td></tr>
<tr class="separator:a4ac2b05756e76dc8a8de8d82a66721d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdd89b201e54e51e1fe4f9954fb2e1b0"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#afdd89b201e54e51e1fe4f9954fb2e1b0">BufTakeElement</a> ()</td></tr>
<tr class="memdesc:afdd89b201e54e51e1fe4f9954fb2e1b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take a single element from the buffer.  <a href="buffer_8c.html#afdd89b201e54e51e1fe4f9954fb2e1b0">More...</a><br /></td></tr>
<tr class="separator:afdd89b201e54e51e1fe4f9954fb2e1b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87a48cf043865363f9b934ba3e0db68a"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#a87a48cf043865363f9b934ba3e0db68a">BufAddElement</a> ()</td></tr>
<tr class="memdesc:a87a48cf043865363f9b934ba3e0db68a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an element to the buffer.  <a href="buffer_8c.html#a87a48cf043865363f9b934ba3e0db68a">More...</a><br /></td></tr>
<tr class="separator:a87a48cf043865363f9b934ba3e0db68a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a608864e62e34b7c269cd79d2c7294a48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#a608864e62e34b7c269cd79d2c7294a48">BufReset</a> ()</td></tr>
<tr class="memdesc:a608864e62e34b7c269cd79d2c7294a48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the buffer data structure.  <a href="buffer_8c.html#a608864e62e34b7c269cd79d2c7294a48">More...</a><br /></td></tr>
<tr class="separator:a608864e62e34b7c269cd79d2c7294a48"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0963b05bebaa79e9cc9b76594b1d3e73"><td class="memItemLeft" align="right" valign="top">volatile uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#a0963b05bebaa79e9cc9b76594b1d3e73">g_regs</a> [<a class="el" href="registers_8h.html#a807211953b57b1a3f715e8a4496f3d2d">NUM_REG_PAGES</a> *REG_PER_PAGE]</td></tr>
<tr class="separator:a0963b05bebaa79e9cc9b76594b1d3e73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a425769607ace224689db90d2b10ce0f3"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#a425769607ace224689db90d2b10ce0f3">g_bufLastRegIndex</a></td></tr>
<tr class="separator:a425769607ace224689db90d2b10ce0f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a730e66cb06d98e2a818a0d3eadfbd586"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#a730e66cb06d98e2a818a0d3eadfbd586">g_bufCount</a> = 0</td></tr>
<tr class="separator:a730e66cb06d98e2a818a0d3eadfbd586"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addb2746a5058ce1e5238ded2921a2b50"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#addb2746a5058ce1e5238ded2921a2b50">g_bufNumWords32</a></td></tr>
<tr class="separator:addb2746a5058ce1e5238ded2921a2b50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a2fc0aa0e792d53044d5a4117d2489e"><td class="memItemLeft" align="right" valign="top">static volatile uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#a4a2fc0aa0e792d53044d5a4117d2489e">buf_head</a> = 0</td></tr>
<tr class="separator:a4a2fc0aa0e792d53044d5a4117d2489e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abad56259f1dcff3a24d5eb6881664509"><td class="memItemLeft" align="right" valign="top">static volatile uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#abad56259f1dcff3a24d5eb6881664509">buf_tail</a> = 0</td></tr>
<tr class="separator:abad56259f1dcff3a24d5eb6881664509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91e5f4db9bd4db58e608a94634ec7848"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#a91e5f4db9bd4db58e608a94634ec7848">buf_increment</a> = 64</td></tr>
<tr class="separator:a91e5f4db9bd4db58e608a94634ec7848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaded6323143e89bd1769e46bdde00edd"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#aaded6323143e89bd1769e46bdde00edd">buf_replaceOldest</a> = 0</td></tr>
<tr class="separator:aaded6323143e89bd1769e46bdde00edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b12f7a2003d4898fd4ccd02846f5da3"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#a7b12f7a2003d4898fd4ccd02846f5da3">buf_maxCount</a></td></tr>
<tr class="separator:a7b12f7a2003d4898fd4ccd02846f5da3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9c7614642dde5b19319f9cb1a47ae05"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#ab9c7614642dde5b19319f9cb1a47ae05">buf_lastEntryIndex</a></td></tr>
<tr class="separator:ab9c7614642dde5b19319f9cb1a47ae05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>iSensor-SPI-Buffer buffer implementation </p>
<p>Copyright (c) Analog Devices Inc, 2020 All Rights Reserved.</p>
<dl class="section date"><dt>Date</dt><dd>3/19/2020 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>A. Nolan (<a href="#" onclick="location.href='mai'+'lto:'+'ale'+'x.'+'nol'+'an'+'@an'+'al'+'og.'+'co'+'m'; return false;">alex.<span style="display: none;">.nosp@m.</span>nola<span style="display: none;">.nosp@m.</span>n@ana<span style="display: none;">.nosp@m.</span>log.<span style="display: none;">.nosp@m.</span>com</a>) </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a5c39068d8675a7a4aa760e74221903d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c39068d8675a7a4aa760e74221903d5">&#9670;&nbsp;</a></span>__attribute__()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t buf [<a class="el" href="buffer_8h.html#a6821bafc3c88dfb2e433a095df9940c6">BUF_SIZE</a>] __attribute__ </td>
          <td>(</td>
          <td class="paramtype">(aligned(32))&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The buffer storage (aligned to allow word-wise retrieval of buffer data) </p>

</div>
</div>
<a id="a87a48cf043865363f9b934ba3e0db68a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87a48cf043865363f9b934ba3e0db68a">&#9670;&nbsp;</a></span>BufAddElement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* BufAddElement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an element to the buffer. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the new element added to the buffer</dd></dl>
<p>New elements always get added to the head of the buffer, in both buffer modes. If the buffer is full and ReplaceOldest is set to true, then the head continues moving through the buffer memory. If replace oldest is set to false, the head stays still when the buffer data structure reaches capacity. </p>

</div>
</div>
<a id="a4ac2b05756e76dc8a8de8d82a66721d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ac2b05756e76dc8a8de8d82a66721d2">&#9670;&nbsp;</a></span>BufCanAddElement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t BufCanAddElement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if an element can be added to the buffer. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if no element can be added to the buffer, 1 otherwise</dd></dl>
<p>The return value depends on the replace oldest setting and buffer count </p>

</div>
</div>
<a id="a608864e62e34b7c269cd79d2c7294a48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a608864e62e34b7c269cd79d2c7294a48">&#9670;&nbsp;</a></span>BufReset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BufReset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the buffer data structure. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>This function resets the buffer to its default state. All stored buffer entries are discarded. The buffer control registers (buffer length, buffer config) are both validated to ensure the buffer is initialized to a valid state. </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="buffer_8c_a608864e62e34b7c269cd79d2c7294a48_icgraph.png" border="0" usemap="#abuffer_8c_a608864e62e34b7c269cd79d2c7294a48_icgraph" alt=""/></div>
<map name="buffer_8c_a608864e62e34b7c269cd79d2c7294a48_icgraph" id="buffer_8c_a608864e62e34b7c269cd79d2c7294a48_icgraph">
<area shape="rect" title="Clears the buffer data structure." alt="" coords="104,5,179,32"/>
<area shape="rect" href="main_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="The application entry point." alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="afdd89b201e54e51e1fe4f9954fb2e1b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdd89b201e54e51e1fe4f9954fb2e1b0">&#9670;&nbsp;</a></span>BufTakeElement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* BufTakeElement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Take a single element from the buffer. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the element retrieved from the buffer</dd></dl>
<p>In FIFO mode (queue) this function takes from the tail and moves the tail pointer down. This function is called from the main loop when a buffer dequeue is requested. As such, the ISRs are disabled for the duration of this function execution to prevent issues with g_bufCount being inadvertently changed </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a4a2fc0aa0e792d53044d5a4117d2489e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a2fc0aa0e792d53044d5a4117d2489e">&#9670;&nbsp;</a></span>buf_head</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint32_t buf_head = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Index within buffer array for buffer head </p>

</div>
</div>
<a id="a91e5f4db9bd4db58e608a94634ec7848"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91e5f4db9bd4db58e608a94634ec7848">&#9670;&nbsp;</a></span>buf_increment</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t buf_increment = 64</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Increment per buffer entry. This is buffer length + 4, padded to multiple of 4 </p>

</div>
</div>
<a id="ab9c7614642dde5b19319f9cb1a47ae05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9c7614642dde5b19319f9cb1a47ae05">&#9670;&nbsp;</a></span>buf_lastEntryIndex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t buf_lastEntryIndex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Position at which buffer needs to wrap around </p>

</div>
</div>
<a id="a7b12f7a2003d4898fd4ccd02846f5da3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b12f7a2003d4898fd4ccd02846f5da3">&#9670;&nbsp;</a></span>buf_maxCount</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t buf_maxCount</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Buffer max count (determined once when buffer is initialized) </p>

</div>
</div>
<a id="aaded6323143e89bd1769e46bdde00edd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaded6323143e89bd1769e46bdde00edd">&#9670;&nbsp;</a></span>buf_replaceOldest</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t buf_replaceOldest = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Buffer full setting (0 -&gt; stop adding, Not 0 -&gt; replace oldest) </p>

</div>
</div>
<a id="abad56259f1dcff3a24d5eb6881664509"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abad56259f1dcff3a24d5eb6881664509">&#9670;&nbsp;</a></span>buf_tail</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint32_t buf_tail = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Index within buffer array for buffer tail </p>

</div>
</div>
<a id="a730e66cb06d98e2a818a0d3eadfbd586"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a730e66cb06d98e2a818a0d3eadfbd586">&#9670;&nbsp;</a></span>g_bufCount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t g_bufCount = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of elements currently stored in the buffer. Global scope </p>

</div>
</div>
<a id="a425769607ace224689db90d2b10ce0f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a425769607ace224689db90d2b10ce0f3">&#9670;&nbsp;</a></span>g_bufLastRegIndex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t g_bufLastRegIndex</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Index for the last buffer output register. This is based on buffer size. Global scope </p>

</div>
</div>
<a id="addb2746a5058ce1e5238ded2921a2b50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addb2746a5058ce1e5238ded2921a2b50">&#9670;&nbsp;</a></span>g_bufNumWords32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t g_bufNumWords32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of 32-bit words per buffer entry. Global scope </p>

</div>
</div>
<a id="a0963b05bebaa79e9cc9b76594b1d3e73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0963b05bebaa79e9cc9b76594b1d3e73">&#9670;&nbsp;</a></span>g_regs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint16_t g_regs[<a class="el" href="registers_8h.html#a807211953b57b1a3f715e8a4496f3d2d">NUM_REG_PAGES</a> *REG_PER_PAGE]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Global register array (from <a class="el" href="registers_8c.html" title="iSensor-SPI-Buffer register interfacing module. Called by user SPI and USB CLI">registers.c</a>) </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
