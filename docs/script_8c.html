<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>iSensor-SPI-Buffer: C:/Users/anolan3/Documents/iSensor-SPI-Buffer/Core/Src/script.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Analog-Devices-Logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">iSensor-SPI-Buffer
   &#160;<span id="projectnumber">1.10</span>
   </div>
   <div id="projectbrief">Firmware for the STM32F303 to enable full throughput buffered data capture on Analog Devices IMUs</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c6310732a22f63c0c2fc5595561e68f1.html">Core</a></li><li class="navelem"><a class="el" href="dir_b596f468b52957496e4f78b80e029268.html">Src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">script.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>iSensor-SPI-Buffer script module (loaded from SD card or provided via USB CLI)  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="script_8h_source.html">script.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac102053883fd128a64731e1b89e2d5bc"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#ac102053883fd128a64731e1b89e2d5bc">ParseCommandArgs</a> (const uint8_t *commandBuf, uint32_t *args)</td></tr>
<tr class="memdesc:ac102053883fd128a64731e1b89e2d5bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse space delimited arguments out from a command.  <a href="script_8c.html#ac102053883fd128a64731e1b89e2d5bc">More...</a><br /></td></tr>
<tr class="separator:ac102053883fd128a64731e1b89e2d5bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac667819c6a60b19091561cb8a62e0f2b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#ac667819c6a60b19091561cb8a62e0f2b">ReadHandler</a> (<a class="el" href="structscript.html">script</a> *<a class="el" href="usb__cli_8c.html#a5a2b484670a50584223281c1ae87f9e3">scr</a>, uint8_t *outBuf, <a class="el" href="main_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a> isUSB)</td></tr>
<tr class="memdesc:ac667819c6a60b19091561cb8a62e0f2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read command handler.  <a href="script_8c.html#ac667819c6a60b19091561cb8a62e0f2b">More...</a><br /></td></tr>
<tr class="separator:ac667819c6a60b19091561cb8a62e0f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eaa80de5518e1d26a29fd05006cf1dd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a7eaa80de5518e1d26a29fd05006cf1dd">ReadBufHandler</a> (<a class="el" href="main_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a> isUSB)</td></tr>
<tr class="memdesc:a7eaa80de5518e1d26a29fd05006cf1dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler for ReadBuf command.  <a href="script_8c.html#a7eaa80de5518e1d26a29fd05006cf1dd">More...</a><br /></td></tr>
<tr class="separator:a7eaa80de5518e1d26a29fd05006cf1dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84be1b50cabc1d7855f02d66a171a92e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a84be1b50cabc1d7855f02d66a171a92e">WriteHandler</a> (<a class="el" href="structscript.html">script</a> *<a class="el" href="usb__cli_8c.html#a5a2b484670a50584223281c1ae87f9e3">scr</a>)</td></tr>
<tr class="memdesc:a84be1b50cabc1d7855f02d66a171a92e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write command handler.  <a href="script_8c.html#a84be1b50cabc1d7855f02d66a171a92e">More...</a><br /></td></tr>
<tr class="separator:a84be1b50cabc1d7855f02d66a171a92e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af89dbb7337295273d850a3a30f470a07"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#af89dbb7337295273d850a3a30f470a07">StreamCmdHandler</a> (<a class="el" href="structscript.html">script</a> *<a class="el" href="usb__cli_8c.html#a5a2b484670a50584223281c1ae87f9e3">scr</a>, <a class="el" href="main_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a> isUSB)</td></tr>
<tr class="memdesc:af89dbb7337295273d850a3a30f470a07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler for stream start/stop command.  <a href="script_8c.html#af89dbb7337295273d850a3a30f470a07">More...</a><br /></td></tr>
<tr class="separator:af89dbb7337295273d850a3a30f470a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eadbf1ec7b976d56578ea374bdbc099"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a2eadbf1ec7b976d56578ea374bdbc099">FactoryResetHandler</a> ()</td></tr>
<tr class="memdesc:a2eadbf1ec7b976d56578ea374bdbc099"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a factory reset + flash update.  <a href="script_8c.html#a2eadbf1ec7b976d56578ea374bdbc099">More...</a><br /></td></tr>
<tr class="separator:a2eadbf1ec7b976d56578ea374bdbc099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea16d045e8282ac0a27d9ac0f520c286"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#aea16d045e8282ac0a27d9ac0f520c286">UShortToHex</a> (uint8_t *outBuf, uint16_t val)</td></tr>
<tr class="memdesc:aea16d045e8282ac0a27d9ac0f520c286"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a 16 bit value to the corresponding hex string (4 chars)  <a href="script_8c.html#aea16d045e8282ac0a27d9ac0f520c286">More...</a><br /></td></tr>
<tr class="separator:aea16d045e8282ac0a27d9ac0f520c286"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89bcaf676924699ae15b7ad7162fa604"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a89bcaf676924699ae15b7ad7162fa604">HexToUInt</a> (const uint8_t *commandBuf)</td></tr>
<tr class="memdesc:a89bcaf676924699ae15b7ad7162fa604"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a hex string to a 32 bit uint.  <a href="script_8c.html#a89bcaf676924699ae15b7ad7162fa604">More...</a><br /></td></tr>
<tr class="separator:a89bcaf676924699ae15b7ad7162fa604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac02092c0bf9da73f01289bd584041db"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#aac02092c0bf9da73f01289bd584041db">StringEquals</a> (const uint8_t *string0, const uint8_t *string1, uint32_t count)</td></tr>
<tr class="memdesc:aac02092c0bf9da73f01289bd584041db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check equality between two strings.  <a href="script_8c.html#aac02092c0bf9da73f01289bd584041db">More...</a><br /></td></tr>
<tr class="separator:aac02092c0bf9da73f01289bd584041db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f84e2d7b897f8a4ba6be2ef3145da41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a4f84e2d7b897f8a4ba6be2ef3145da41">CheckStream</a> ()</td></tr>
<tr class="memdesc:a4f84e2d7b897f8a4ba6be2ef3145da41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the stream status.  <a href="script_8c.html#a4f84e2d7b897f8a4ba6be2ef3145da41">More...</a><br /></td></tr>
<tr class="separator:a4f84e2d7b897f8a4ba6be2ef3145da41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fcce12d9c19ab8120644cb4a2dd72fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a3fcce12d9c19ab8120644cb4a2dd72fc">ParseScriptElement</a> (const uint8_t *commandBuf, <a class="el" href="structscript.html">script</a> *<a class="el" href="usb__cli_8c.html#a5a2b484670a50584223281c1ae87f9e3">scr</a>)</td></tr>
<tr class="memdesc:a3fcce12d9c19ab8120644cb4a2dd72fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a command string into a script element.  <a href="script_8c.html#a3fcce12d9c19ab8120644cb4a2dd72fc">More...</a><br /></td></tr>
<tr class="separator:a3fcce12d9c19ab8120644cb4a2dd72fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a7ca2c973654de22337a46d3126505"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a98a7ca2c973654de22337a46d3126505">RunScriptElement</a> (<a class="el" href="structscript.html">script</a> *<a class="el" href="usb__cli_8c.html#a5a2b484670a50584223281c1ae87f9e3">scr</a>, uint8_t *outBuf, <a class="el" href="main_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a> isUSB)</td></tr>
<tr class="memdesc:a98a7ca2c973654de22337a46d3126505"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a script element.  <a href="script_8c.html#a98a7ca2c973654de22337a46d3126505">More...</a><br /></td></tr>
<tr class="separator:a98a7ca2c973654de22337a46d3126505"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a498acc08ff841f6655df28c1681f954f"><td class="memItemLeft" align="right" valign="top">volatile uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a498acc08ff841f6655df28c1681f954f">g_regs</a> []</td></tr>
<tr class="separator:a498acc08ff841f6655df28c1681f954f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c2c158f71b500735f46b4986c71a35b"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a2c2c158f71b500735f46b4986c71a35b">StreamBuf_A</a> [<a class="el" href="script_8h.html#ab11983675d40a27dee780f0db1cf1940">STREAM_BUF_SIZE</a>]</td></tr>
<tr class="separator:a2c2c158f71b500735f46b4986c71a35b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f10200da148bc47d589e784165f565"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#ac2f10200da148bc47d589e784165f565">StreamBuf_B</a> [<a class="el" href="script_8h.html#ab11983675d40a27dee780f0db1cf1940">STREAM_BUF_SIZE</a>]</td></tr>
<tr class="separator:ac2f10200da148bc47d589e784165f565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d4964370d251ff2c5bb7b782333d825"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="main_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a1d4964370d251ff2c5bb7b782333d825">BufA</a></td></tr>
<tr class="separator:a1d4964370d251ff2c5bb7b782333d825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa910262b7076819c86978d461ecbcd7e"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#aa910262b7076819c86978d461ecbcd7e">cmdIndex</a></td></tr>
<tr class="separator:aa910262b7076819c86978d461ecbcd7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabdeef34fcad1c19feb28c6861a4c49d"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#aabdeef34fcad1c19feb28c6861a4c49d">goodArg</a></td></tr>
<tr class="separator:aabdeef34fcad1c19feb28c6861a4c49d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b1fd093fac9e4e1f5420b27ba1bf0d8"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a5b1fd093fac9e4e1f5420b27ba1bf0d8">ReadCmd</a> [] = &quot;read &quot;</td></tr>
<tr class="separator:a5b1fd093fac9e4e1f5420b27ba1bf0d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8ddcf9309a7d7b4b420ee4a898c1815"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#af8ddcf9309a7d7b4b420ee4a898c1815">WriteCmd</a> [] = &quot;write &quot;</td></tr>
<tr class="separator:af8ddcf9309a7d7b4b420ee4a898c1815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf60efc250637cfd3a01a0d767660282"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#acf60efc250637cfd3a01a0d767660282">HelpCmd</a> [] = &quot;help&quot;</td></tr>
<tr class="separator:acf60efc250637cfd3a01a0d767660282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53f2cd4354e450d661d4d5893f300189"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a53f2cd4354e450d661d4d5893f300189">FactoryResetCmd</a> [] = &quot;freset&quot;</td></tr>
<tr class="separator:a53f2cd4354e450d661d4d5893f300189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b5ef6a5a103f5269e3d711981cc6f00"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a6b5ef6a5a103f5269e3d711981cc6f00">ReadBufCmd</a> [] = &quot;readbuf&quot;</td></tr>
<tr class="separator:a6b5ef6a5a103f5269e3d711981cc6f00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10077c1a7acafedcf51fc0883d33723b"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a10077c1a7acafedcf51fc0883d33723b">EndloopCmd</a> [] = &quot;endloop&quot;</td></tr>
<tr class="separator:a10077c1a7acafedcf51fc0883d33723b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a838678d9aa6daf012f6e60df0c962a6d"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a838678d9aa6daf012f6e60df0c962a6d">StreamCmd</a> [] = &quot;stream &quot;</td></tr>
<tr class="separator:a838678d9aa6daf012f6e60df0c962a6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60f481e0a6db5359b3076169e47e3afe"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a60f481e0a6db5359b3076169e47e3afe">DelimCmd</a> [] = &quot;delim &quot;</td></tr>
<tr class="separator:a60f481e0a6db5359b3076169e47e3afe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16f14c91b787013557e902ccbec3e120"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a16f14c91b787013557e902ccbec3e120">EchoCmd</a> [] = &quot;echo &quot;</td></tr>
<tr class="separator:a16f14c91b787013557e902ccbec3e120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f69b79ce36d4c2cec8d4475cf0fbfa9"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a6f69b79ce36d4c2cec8d4475cf0fbfa9">SleepCmd</a> [] = &quot;sleep &quot;</td></tr>
<tr class="separator:a6f69b79ce36d4c2cec8d4475cf0fbfa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b9ad508a3887d54053a4a75c9fea203"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a5b9ad508a3887d54053a4a75c9fea203">LoopCmd</a> [] = &quot;loop &quot;</td></tr>
<tr class="separator:a5b9ad508a3887d54053a4a75c9fea203"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fd6c2cb1b738a075b82adf282f156ca"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a0fd6c2cb1b738a075b82adf282f156ca">InvalidCmdStr</a> [] = &quot;Error: Invalid command!\r\n&quot;</td></tr>
<tr class="separator:a0fd6c2cb1b738a075b82adf282f156ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71182335d7a57ebcbc29458310caae36"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a71182335d7a57ebcbc29458310caae36">NotAllowedStr</a> [] = &quot;Error: Command not allowed!\r\n&quot;</td></tr>
<tr class="separator:a71182335d7a57ebcbc29458310caae36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abab39dcfc250e9dcbaee407db02a36d6"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#abab39dcfc250e9dcbaee407db02a36d6">InvalidArgStr</a> [] = &quot;Error: Invalid argument!\r\n&quot;</td></tr>
<tr class="separator:abab39dcfc250e9dcbaee407db02a36d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f0841705f3688c489af288bf79ca848"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a1f0841705f3688c489af288bf79ca848">UnknownErrorStr</a> [] = &quot;An unknown error has occurred!\r\n&quot;</td></tr>
<tr class="separator:a1f0841705f3688c489af288bf79ca848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a995debb8ab7308e9324e122fcc2b1de3"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="script_8c.html#a995debb8ab7308e9324e122fcc2b1de3">HelpStr</a> []</td></tr>
<tr class="separator:a995debb8ab7308e9324e122fcc2b1de3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>iSensor-SPI-Buffer script module (loaded from SD card or provided via USB CLI) </p>
<p>Copyright (c) Analog Devices Inc, 2020 All Rights Reserved.</p>
<dl class="section date"><dt>Date</dt><dd>7/23/2020 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>A. Nolan (<a href="#" onclick="location.href='mai'+'lto:'+'ale'+'x.'+'nol'+'an'+'@an'+'al'+'og.'+'co'+'m'; return false;">alex.<span style="display: none;">.nosp@m.</span>nola<span style="display: none;">.nosp@m.</span>n@ana<span style="display: none;">.nosp@m.</span>log.<span style="display: none;">.nosp@m.</span>com</a>) </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a4f84e2d7b897f8a4ba6be2ef3145da41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f84e2d7b897f8a4ba6be2ef3145da41">&#9670;&nbsp;</a></span>CheckStream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CheckStream </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check the stream status. </p>
<p>This function checks if a watermark interrupt is asserted, based on a minimum watermark level of</p><ol type="1">
<li>If a watermark is asserted, and a stream is running, then <a class="el" href="script_8c.html#a7eaa80de5518e1d26a29fd05006cf1dd" title="Handler for ReadBuf command.">ReadBufHandler()</a> is called, with isUSB set to match the stream source. SD card streams have priority over USB streams, and will cancel a running USB stream. </li>
</ol>

</div>
</div>
<a id="a2eadbf1ec7b976d56578ea374bdbc099"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2eadbf1ec7b976d56578ea374bdbc099">&#9670;&nbsp;</a></span>FactoryResetHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void FactoryResetHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes a factory reset + flash update. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>This function is called when the USB CLI executes a freset command. </p>

</div>
</div>
<a id="a89bcaf676924699ae15b7ad7162fa604"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89bcaf676924699ae15b7ad7162fa604">&#9670;&nbsp;</a></span>HexToUInt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t HexToUInt </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>commandBuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a hex string to a 32 bit uint. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>The input string must be stored in CurrentCommand, with cmdIndex set to point at the first value in the string. </p>

</div>
</div>
<a id="ac102053883fd128a64731e1b89e2d5bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac102053883fd128a64731e1b89e2d5bc">&#9670;&nbsp;</a></span>ParseCommandArgs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t ParseCommandArgs </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>commandBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parse space delimited arguments out from a command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">commandBuf</td><td>Pointer to command string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p>Arguments must be separated by a space. Each argument (up to 3) are placed into the args array. The total number of arguments in the current command is placed in numArgs. All arguments must be hex strings. </p>

</div>
</div>
<a id="a3fcce12d9c19ab8120644cb4a2dd72fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fcce12d9c19ab8120644cb4a2dd72fc">&#9670;&nbsp;</a></span>ParseScriptElement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ParseScriptElement </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>commandBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structscript.html">script</a> *&#160;</td>
          <td class="paramname"><em>scr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse a command string into a script element. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">commandBuf</td><td>Script command string (from CLI or SD card)</td></tr>
    <tr><td class="paramname">scr</td><td>Script element to populate</td></tr>
  </table>
  </dd>
</dl>
<p>This function parses the script command type from the available list of script commands, by comparison to a pre-defined string literal. Then, the arguments for each particular command type are parsed and validated. </p>

</div>
</div>
<a id="a7eaa80de5518e1d26a29fd05006cf1dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eaa80de5518e1d26a29fd05006cf1dd">&#9670;&nbsp;</a></span>ReadBufHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ReadBufHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="main_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td>
          <td class="paramname"><em>isUSB</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handler for ReadBuf command. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">isUSB</td><td>Flag indicating if output data should be sent to USB or SD card</td></tr>
  </table>
  </dd>
</dl>
<p>This function uses a ping-pong architecture for the buffer transmit data. This avoids potential data corruption issues (USB transmit is non-blocking) </p>

</div>
</div>
<a id="ac667819c6a60b19091561cb8a62e0f2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac667819c6a60b19091561cb8a62e0f2b">&#9670;&nbsp;</a></span>ReadHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ReadHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structscript.html">script</a> *&#160;</td>
          <td class="paramname"><em>scr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>outBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td>
          <td class="paramname"><em>isUSB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read command handler. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scr</td><td>Script element being executed. Contains read arguments</td></tr>
    <tr><td class="paramname">outBuf</td><td>Buffer to write data to. Must be at least STREAM_BUF_SIZE bytes</td></tr>
    <tr><td class="paramname">isUSB</td><td>Flag indicating if output data should be sent to USB or SD card</td></tr>
  </table>
  </dd>
</dl>
<p>This function handles all read commands from SD scripts or the USB CLI. Output data is filled to STREAM_BUF_SIZE, then transmitted. The arguments provided in scr are assumed to be valid prior to this function being called, so no additional input validation is performed. </p>

</div>
</div>
<a id="a98a7ca2c973654de22337a46d3126505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98a7ca2c973654de22337a46d3126505">&#9670;&nbsp;</a></span>RunScriptElement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RunScriptElement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structscript.html">script</a> *&#160;</td>
          <td class="paramname"><em>scr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>outBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td>
          <td class="paramname"><em>isUSB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes a script element. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scr</td><td>The script element to execute</td></tr>
    <tr><td class="paramname">outBuf</td><td>Output buffer to write script result to</td></tr>
    <tr><td class="paramname">isUSB</td><td>Flag indicating if output data should be transmitted to USB CLI or SD card</td></tr>
  </table>
  </dd>
</dl>
<p>This function handles all non-control based script elements. It also performs input validation on the script object, and will print an error message for an invalid command or invalid arguments. If the command and arguments are good, this function calls the lower level handler corresponding to the script item. Currently is just a switch statement, could do some neat stuff with a function pointer table in the future. </p>

</div>
</div>
<a id="af89dbb7337295273d850a3a30f470a07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af89dbb7337295273d850a3a30f470a07">&#9670;&nbsp;</a></span>StreamCmdHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void StreamCmdHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structscript.html">script</a> *&#160;</td>
          <td class="paramname"><em>scr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a>&#160;</td>
          <td class="paramname"><em>isUSB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handler for stream start/stop command. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scr</td><td>Script element being executed</td></tr>
    <tr><td class="paramname">isUSB</td><td>flag indicating if command came from SD script or USB CLI</td></tr>
  </table>
  </dd>
</dl>
<p>This function manages stream priorities. If a stream is already running for the SD card script, a USB stream will not be started. The system currently only supports streaming data to one destination at a time. </p>

</div>
</div>
<a id="aac02092c0bf9da73f01289bd584041db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac02092c0bf9da73f01289bd584041db">&#9670;&nbsp;</a></span>StringEquals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t StringEquals </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>string0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>string1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check equality between two strings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string0</td><td>First string to compare</td></tr>
    <tr><td class="paramname">string1</td><td>Second string to compare</td></tr>
    <tr><td class="paramname">count</td><td>Number of chars to compare (from start)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 for equal strings, 0 for not equal </dd></dl>

</div>
</div>
<a id="aea16d045e8282ac0a27d9ac0f520c286"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea16d045e8282ac0a27d9ac0f520c286">&#9670;&nbsp;</a></span>UShortToHex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void UShortToHex </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>outBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a 16 bit value to the corresponding hex string (4 chars) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">outBuf</td><td>Buffer to place the string result in</td></tr>
    <tr><td class="paramname">val</td><td>The 16 bit value to convert to a string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a id="a84be1b50cabc1d7855f02d66a171a92e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84be1b50cabc1d7855f02d66a171a92e">&#9670;&nbsp;</a></span>WriteHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void WriteHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structscript.html">script</a> *&#160;</td>
          <td class="paramname"><em>scr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write command handler. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scr</td><td>pointer to script element containing write arguments</td></tr>
  </table>
  </dd>
</dl>
<p>The write address is passed in args[0]. The address is masked to only 7 bits (address space of a page). The write value is passed in args[1]. The write value is masked to 8 bits (byte-wise writes). </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a1d4964370d251ff2c5bb7b782333d825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d4964370d251ff2c5bb7b782333d825">&#9670;&nbsp;</a></span>BufA</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8h.html#af6a258d8f3ee5206d682d799316314b1">bool</a> BufA</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Track which buffer is in use </p>

</div>
</div>
<a id="aa910262b7076819c86978d461ecbcd7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa910262b7076819c86978d461ecbcd7e">&#9670;&nbsp;</a></span>cmdIndex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t cmdIndex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Current index within command buffer </p>

</div>
</div>
<a id="a60f481e0a6db5359b3076169e47e3afe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60f481e0a6db5359b3076169e47e3afe">&#9670;&nbsp;</a></span>DelimCmd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t DelimCmd[] = &quot;delim &quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>String literal for delim set command. Must be followed by a space </p>

</div>
</div>
<a id="a16f14c91b787013557e902ccbec3e120"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16f14c91b787013557e902ccbec3e120">&#9670;&nbsp;</a></span>EchoCmd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t EchoCmd[] = &quot;echo &quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>String literal for echo enable/disable command. Must be followed by a space </p>

</div>
</div>
<a id="a10077c1a7acafedcf51fc0883d33723b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10077c1a7acafedcf51fc0883d33723b">&#9670;&nbsp;</a></span>EndloopCmd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t EndloopCmd[] = &quot;endloop&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>String literal for endloop command. </p>

</div>
</div>
<a id="a53f2cd4354e450d661d4d5893f300189"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53f2cd4354e450d661d4d5893f300189">&#9670;&nbsp;</a></span>FactoryResetCmd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t FactoryResetCmd[] = &quot;freset&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>String literal for factory reset command </p>

</div>
</div>
<a id="a498acc08ff841f6655df28c1681f954f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a498acc08ff841f6655df28c1681f954f">&#9670;&nbsp;</a></span>g_regs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint16_t g_regs[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Global register array. (from <a class="el" href="registers_8c.html" title="iSensor-SPI-Buffer register interfacing module. Called by user SPI and USB CLI">registers.c</a>) </p>

</div>
</div>
<a id="aabdeef34fcad1c19feb28c6861a4c49d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabdeef34fcad1c19feb28c6861a4c49d">&#9670;&nbsp;</a></span>goodArg</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t goodArg</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Flag to track if current command arguments are valid </p>

</div>
</div>
<a id="acf60efc250637cfd3a01a0d767660282"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf60efc250637cfd3a01a0d767660282">&#9670;&nbsp;</a></span>HelpCmd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t HelpCmd[] = &quot;help&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>String literal for help command </p>

</div>
</div>
<a id="a995debb8ab7308e9324e122fcc2b1de3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a995debb8ab7308e9324e122fcc2b1de3">&#9670;&nbsp;</a></span>HelpStr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t HelpStr[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <span class="stringliteral">&quot;All numeric argument values must be provided in hex. [] arguments are optional\r\n\r\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;help: Print available commands\r\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;freset: Performs a factory reset, followed by flash update. This restores the firmware to a known good state\r\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;read startAddr [endAddr = addr] [numReads = 1]: Read registers starting at startAddr and ending at endAddr, numReads times\r\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;write addr value: Write the 8-bit value in value to register at address addr\r\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;readbuf: Read all stored buffer entries. Values for each entry are placed on a newline\r\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;stream startStop: Start (argument != 0) or stop (argument == 0) a read stream\r\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;delim delimChar: Set the read output delimiter character (between register values) to delimChar\r\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;echo enableDisable: Enable (argument != 0) or disable (argument == 0) USB command line echo\r\n&quot;</span></div>
</div><!-- fragment --><p>Print string for help command </p>

</div>
</div>
<a id="abab39dcfc250e9dcbaee407db02a36d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abab39dcfc250e9dcbaee407db02a36d6">&#9670;&nbsp;</a></span>InvalidArgStr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t InvalidArgStr[] = &quot;Error: Invalid argument!\r\n&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Print string for invalid argument </p>

</div>
</div>
<a id="a0fd6c2cb1b738a075b82adf282f156ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fd6c2cb1b738a075b82adf282f156ca">&#9670;&nbsp;</a></span>InvalidCmdStr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t InvalidCmdStr[] = &quot;Error: Invalid command!\r\n&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Print string for invalid command </p>

</div>
</div>
<a id="a5b9ad508a3887d54053a4a75c9fea203"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b9ad508a3887d54053a4a75c9fea203">&#9670;&nbsp;</a></span>LoopCmd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t LoopCmd[] = &quot;loop &quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>String literal for loop command. Must be followed by a space </p>

</div>
</div>
<a id="a71182335d7a57ebcbc29458310caae36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71182335d7a57ebcbc29458310caae36">&#9670;&nbsp;</a></span>NotAllowedStr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t NotAllowedStr[] = &quot;Error: Command not allowed!\r\n&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Print string for not allowed command </p>

</div>
</div>
<a id="a6b5ef6a5a103f5269e3d711981cc6f00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b5ef6a5a103f5269e3d711981cc6f00">&#9670;&nbsp;</a></span>ReadBufCmd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t ReadBufCmd[] = &quot;readbuf&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>String literal for read buffer command </p>

</div>
</div>
<a id="a5b1fd093fac9e4e1f5420b27ba1bf0d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b1fd093fac9e4e1f5420b27ba1bf0d8">&#9670;&nbsp;</a></span>ReadCmd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t ReadCmd[] = &quot;read &quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>String literal for read command. Must be followed by a space </p>

</div>
</div>
<a id="a6f69b79ce36d4c2cec8d4475cf0fbfa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f69b79ce36d4c2cec8d4475cf0fbfa9">&#9670;&nbsp;</a></span>SleepCmd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t SleepCmd[] = &quot;sleep &quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>String literal for sleep command. Must be followed by a space </p>

</div>
</div>
<a id="a2c2c158f71b500735f46b4986c71a35b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c2c158f71b500735f46b4986c71a35b">&#9670;&nbsp;</a></span>StreamBuf_A</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t StreamBuf_A[<a class="el" href="script_8h.html#ab11983675d40a27dee780f0db1cf1940">STREAM_BUF_SIZE</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Buffer A for stream data (USB or SD card) ping/pong </p>

</div>
</div>
<a id="ac2f10200da148bc47d589e784165f565"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2f10200da148bc47d589e784165f565">&#9670;&nbsp;</a></span>StreamBuf_B</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t StreamBuf_B[<a class="el" href="script_8h.html#ab11983675d40a27dee780f0db1cf1940">STREAM_BUF_SIZE</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Buffer B for stream data (USB or SD card) ping/pong </p>

</div>
</div>
<a id="a838678d9aa6daf012f6e60df0c962a6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a838678d9aa6daf012f6e60df0c962a6d">&#9670;&nbsp;</a></span>StreamCmd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t StreamCmd[] = &quot;stream &quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>String literal for stream command. Must be followed by a space </p>

</div>
</div>
<a id="a1f0841705f3688c489af288bf79ca848"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f0841705f3688c489af288bf79ca848">&#9670;&nbsp;</a></span>UnknownErrorStr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t UnknownErrorStr[] = &quot;An unknown error has occurred!\r\n&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Print string for unexpected processing </p>

</div>
</div>
<a id="af8ddcf9309a7d7b4b420ee4a898c1815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8ddcf9309a7d7b4b420ee4a898c1815">&#9670;&nbsp;</a></span>WriteCmd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t WriteCmd[] = &quot;write &quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>String literal for write command. Must be followed by a space </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
